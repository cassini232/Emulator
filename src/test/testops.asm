	TITLE	'Test program for troublesome opcodes'

;check EX for A/A'
Start:
	LD	SP,Stack
	LD	A,07FH
	EX	AF,AF'
	LD	A,0FFH

	CALL	L1
	EX	AF,AF'

;check mem window moving about
	LD	DE,1234H	
	LD	(DE),A
	LD	DE,Start

;check EXX
	EXX
	HALT
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
L1:	INC	A
	RET
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
	INC	A
L2:	INC	A
	RET

	defs	0FFH
Stack:
